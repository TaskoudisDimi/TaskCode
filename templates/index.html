{% extends "base.html" %}
{% block title %}Home - {{ company_details.name | default('Task-Code') }}{% endblock %}
{% block content %}
<section id="vision" class="min-h-screen flex items-center relative overflow-hidden bg-white" style="padding-top: 64px;">
  
  <div class="absolute inset-0 z-0">
    <img 
      src="{{ images.vision[0].image_url if images.vision and images.vision|length > 0 else url_for('static', filename='imgs/hero_background.jpg') }}" 
      alt="{{ translations.vision_bg_alt | default('Task-Code Vision Background') }}"
      class="w-full h-full object-cover" 
    />
  </div>

  <div class="container mx-auto px-4 sm:px-8 md:px-12 lg:px-24 xl:px-32 2xl:px-48 flex flex-col md:flex-row items-center justify-center relative z-20">
    <div class="text-content w-full md:w-1/2 text-center">
      <h1 class="text-3xl md:text-5xl font-orbitron font-bold mb-6 text-gray-900 animate-slide-in">
        {{ translations.tagline | default('Innovate with Task-Code') }}
      </h1>
      <p class="text-lg md:text-xl mb-8 text-gray-700 font-poppins animate-slide-in-delayed">
        {{ translations.tagline_description | default('Transform your business with cutting-edge technology solutions.') }}
      </p>
      <h2 class="text-3xl md:text-4xl font-orbitron font-bold text-gray-900 mb-6">
        {{ translations.hero_we_build | default('We build') }} <span id="changing-word" class="text-teal-600 animate-word-change"></span>
      </h2>
      <a href="#solutions" class="bg-teal-600 hover:bg-teal-700 text-white px-8 py-3 rounded-2xl font-orbitron animate-pulse-btn">
        {{ translations.explore_solutions | default('Explore Solutions') }}
      </a>
    </div>
  </div>
</section>

<section id="services" class="py-16 bg-gray-100 animate-slide-in">
  <div class="container mx-auto px-4">
    <h2 class="text-4xl font-orbitron font-bold text-teal-600 text-center mb-12 animate-slide-in">
      {{ translations.services_title | default('Our Services') }}
    </h2>
    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">      
      <div class="grid grid-cols-1 gap-8">
        <div class="bg-white p-6 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 text-center">
          {% if images.get('services') and images.get('services').get('Sites/E-shop/WMS') and images.get('services').get('Sites/E-shop/WMS')|length > 0 %}
          <div class="w-full h-96 mb-4 overflow-hidden rounded-md">
            <img src="{{ images.get('services').get('Sites/E-shop/WMS')[0].image_url }}" alt="{{ images.get('services').get('Sites/E-shop/WMS')[0].alt_text }}" class="w-full h-full object-cover">
          </div>
          {% else %}
          <div class="w-full h-96 mb-4 overflow-hidden rounded-md">
            <img src="https://via.placeholder.com/300x384" alt="Sites/E-shop/WMS" class="w-full h-full object-cover">
          </div>
          {% endif %}
          <h3 class="text-2xl font-orbitron text-gray-900 mb-4">{{ translations.sites_eshop_wms_title | default('Create Sites/E-shop/WMS') }}</h3>
          <p class="text-gray-700 font-poppins">{{ translations.sites_eshop_wms_description | default('Build powerful websites, e-commerce platforms, and warehouse management systems.') }}</p>
          <ul class="text-gray-700 font-poppins text-center mt-2">
            <li>{{ translations.sites_eshop_wms_feature1 | default('Custom website design') }}</li>
            <li>{{ translations.sites_eshop_wms_feature2 | default('E-commerce integration') }}</li>
            <li>{{ translations.sites_eshop_wms_feature3 | default('WMS automation') }}</li>
            <li>{{ translations.sites_eshop_wms_feature4 | default('Scalable solutions') }}</li>
          </ul>
          <a href="{{ url_for('main.sites_eshops_wms') }}" class="mt-4 inline-block bg-teal-600 hover:bg-teal-700 text-white px-4 py-2 rounded-xl font-orbitron">{{ translations.explore_solutions | default('Explore') }}</a>
        </div>
        {# Second Service: Logos - CORRECTED SIZE #}
        <div class="bg-white p-6 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 text-center">
          {% if images.get('services') and images.get('services').get('Logos') and images.get('services').get('Logos')|length > 0 %}
          <div class="w-full h-96 mb-4 overflow-hidden rounded-md">
            <img src="{{ images.get('services').get('Logos')[0].image_url }}" alt="{{ images.get('services').get('Logos')[0].alt_text }}" class="w-full h-full object-cover">          
          </div>  
          {% else %}
          <div class="w-full h-96 mb-4 overflow-hidden rounded-md">
            <img src="https://via.placeholder.com/300x384" alt="Logos" class="w-full h-full object-cover">          
          </div>
          {% endif %}
          <h3 class="text-2xl font-orbitron text-gray-900 mb-4">{{ translations.logos_title | default('Create Logos and Social Media') }}</h3>
          <p class="text-gray-700 font-poppins">{{ translations.logos_description | default('Design stunning logos and social media assets.') }}</p>
          <ul class="text-gray-700 font-poppins text-center mt-2">
            <li>{{ translations.logos_feature1 | default('Unique logo designs') }}</li>
            <li>{{ translations.logos_feature2 | default('Social media graphics') }}</li>
            <li>{{ translations.logos_feature3 | default('Brand consistency') }}</li>
            <li>{{ translations.logos_feature4 | default('Scalable solutions') }}</li>
          </ul>
          <a href="{{ url_for('main.logos') }}" class="mt-4 inline-block bg-teal-600 hover:bg-teal-700 text-white px-4 py-2 rounded-xl font-orbitron">{{ translations.explore_solutions | default('Explore') }}</a>
        </div>
      </div>
      
      {# Right Column #}
      <div class="grid grid-cols-1 gap-8">
        {# Third Service: AI Software - CORRECTED SIZE #}
        <div class="bg-white p-6 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 text-center">
          {% if images.get('services') and images.get('services').get('Create Software for Task Automation with AI') and images.get('services').get('Create Software for Task Automation with AI')|length > 0 %}
          <div class="w-full h-96 mb-4 overflow-hidden rounded-md">
            <img src="{{ images.get('services').get('Create Software for Task Automation with AI')[0].image_url }}" alt="{{ images.get('services').get('Create Software for Task Automation with AI')[0].alt_text }}" class="w-full h-full object-cover">          
          </div>
          {% else %}
          <div class="w-full h-96 mb-4 overflow-hidden rounded-md">
            <img src="https://via.placeholder.com/300x384" alt="AI Software" class="w-full h-full object-cover">          
          </div>
          {% endif %}
          <h3 class="text-2xl font-orbitron text-gray-900 mb-4">{{ translations.ai_software_title | default('Create Software for Task Automation with AI') }}</h3>
          <p class="text-gray-700 font-poppins">{{ translations.ai_software_description | default('Automate tasks with AI-powered software solutions.') }}</p>
          <ul class="text-gray-700 font-poppins text-center mt-2">
            <li>{{ translations.ai_software_feature1 | default('AI-driven automation') }}</li>
            <li>{{ translations.ai_software_feature2 | default('Custom algorithms') }}</li>
            <li>{{ translations.ai_software_feature3 | default('Scalable systems') }}</li>
            <li>{{ translations.ai_software_feature4 | default('Real-time analytics') }}</li>
          </ul>
          <a href="{{ url_for('main.AI') }}" class="mt-4 inline-block bg-teal-600 hover:bg-teal-700 text-white px-4 py-2 rounded-xl font-orbitron">{{ translations.explore_solutions | default('Explore') }}</a>
        </div>

        <div class="bg-white p-6 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 text-center">
          {% if images.get('services') and images.get('services').get('Custom Software') and images.get('services').get('Custom Software')|length > 0 %}
          <div class="w-full h-96 mb-4 overflow-hidden rounded-md">
            <img src="{{ images.get('services').get('Custom Software')[0].image_url }}" alt="{{ images.get('services').get('Custom Software')[0].alt_text }}" class="w-full h-full object-cover">          
          </div>
          {% else %}
          <div class="w-full h-96 mb-4 overflow-hidden rounded-md">
            <img src="https://via.placeholder.com/300x384" alt="Custom Software" class="w-full h-full object-cover">          
          </div>
          {% endif %}
          <h3 class="text-2xl font-orbitron text-gray-900 mb-4">{{ translations.custom_software_title | default('Custom Software') }}</h3>
          <p class="text-gray-700 font-poppins">{{ translations.custom_software_description | default('Tailored software with seamless API integrations.') }}</p>
          <ul class="text-gray-700 font-poppins text-center mt-2">
            <li>{{ translations.custom_software_feature1 | default('Custom API development') }}</li>
            <li>{{ translations.custom_software_feature2 | default('Third-party integrations') }}</li>
            <li>{{ translations.custom_software_feature3 | default('Scalable architecture') }}</li>
            <li>{{ translations.custom_software_feature4 | default('Secure solutions') }}</li>
          </ul>
          <a href="{{ url_for('main.custom_software') }}" class="mt-4 inline-block bg-teal-600 hover:bg-teal-700 text-white px-4 py-2 rounded-xl font-orbitron">{{ translations.explore_solutions | default('Explore') }}</a>
        </div>
      </div>
    </div>
  </div>
</section>

<section id="solutions" class="py-16 bg-white flex flex-col lg:flex-row items-center justify-between relative overflow-hidden">
  <div class="container mx-auto px-4 w-full lg:w-1/2 relative z-20 text-center lg:text-center lg:order-2">
    <h2 class="text-4xl font-orbitron font-bold text-teal-600 mb-12 animate-slide-in">
      {{ translations.solutions_title | default('Our Solutions') }}
    </h2>
    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
      <a href="{{ url_for('main.eCommerce_solution') }}" class="bg-gray-100 p-6 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300">
        {% if images.get('solutions') and images.get('solutions').get('E-commerce Automation') and images.get('solutions').get('E-commerce Automation')|length > 0 %}
          <img src="{{ images.get('solutions').get('E-commerce Automation')[0].image_url }}" alt="{{ images.get('solutions').get('E-commerce Automation')[0].alt_text }}" class="w-full h-auto rounded-md mt-4">
        {% endif %}
        <h3 class="text-xl font-orbitron text-gray-900 mb-2">{{ translations.ecommerce_automation_title | default('eCommerce Solution') }}</h3>
        <p class="text-gray-700 font-poppins">{{ translations.ecommerce_automation_description | default('Streamline your online store with automation.') }}</p>
      </a>
      <a href="{{ url_for('main.Smart_Inventory_Management') }}" class="bg-gray-100 p-6 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300">
        {% if images.get('solutions') and images.get('solutions').get('Smart Inventory Management') and images.get('solutions').get('Smart Inventory Management')|length > 0 %}
          <img src="{{ images.get('solutions').get('Smart Inventory Management')[0].image_url }}" alt="{{ images.get('solutions').get('Smart Inventory Management')[0].alt_text }}" class="w-full h-auto rounded-md mt-4">
        {% endif %}
        <h3 class="text-xl font-orbitron text-gray-900 mb-2">{{ translations.smart_inventory_title | default('Smart Inventory Management') }}</h3>
        <p class="text-gray-700 font-poppins">{{ translations.smart_inventory_description | default('Optimize inventory with real-time tracking.') }}</p>
      </a>
      <a href="{{ url_for('main.Dynamic_Web_Portals') }}" class="bg-gray-100 p-6 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300">
        {% if images.get('solutions') and images.get('solutions').get('Dynamic Web Portals') and images.get('solutions').get('Dynamic Web Portals')|length > 0 %}
          <img src="{{ images.get('solutions').get('Dynamic Web Portals')[0].image_url }}" alt="{{ images.get('solutions').get('Dynamic Web Portals')[0].alt_text }}" class="w-full h-auto rounded-md mt-4">
        {% endif %}
        <h3 class="text-xl font-orbitron text-gray-900 mb-2">{{ translations.dynamic_web_portals_title | default('Dynamic Web Portals') }}</h3>
        <p class="text-gray-700 font-poppins">{{ translations.dynamic_web_portals_description | default('Build interactive and scalable web portals.') }}</p>
      </a>
      <a href="{{ url_for('main.Brand_Identity_Digital_Assets') }}" class="bg-gray-100 p-6 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300">
        {% if images.solutions['Brand Identity & Digital Assets'] and images.solutions['Brand Identity & Digital Assets']|length > 0 %}
          <img src="{{ images.solutions['Brand Identity & Digital Assets'][0].image_url }}" alt="{{ images.solutions['Brand Identity & Digital Assets'][0].alt_text }}" class="w-full h-auto rounded-md mt-4">
        {% endif %}
        <h3 class="text-xl font-orbitron text-gray-900 mb-2">{{ translations.brand_identity_title | default('Brand Identity & Digital Assets') }}</h3>
        <p class="text-gray-700 font-poppins">{{ translations.brand_identity_description | default('Create a cohesive brand identity online.') }}</p>
      </a>
    </div>
  </div>
</section>

<section id="process" class="py-16 bg-gray-100 flex flex-col lg:flex-row items-center justify-between relative animate-slide-in">
  <div class="container mx-auto px-4 w-full lg:w-1/2 relative z-20 text-center lg:text-left lg:order-2">
    <h2 class="text-4xl font-orbitron font-bold text-teal-600 text-center mb-12 animate-slide-in">{{ translations.process_title | default('Our Process') }}</h2>
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
      <div class="bg-white rounded-2xl p-6 text-center shadow-lg hover:shadow-xl hover:bg-gray-200 transition-all duration-300">
        <h3 class="text-xl font-orbitron text-gray-900 mb-2">{{ translations.step1_title | default('Discovery') }}</h3>
        <p class="text-gray-700 font-poppins">{{ translations.step1_description | default('Understand your needs and goals.') }}</p>
      </div>
      <div class="bg-white rounded-2xl p-6 text-center shadow-lg hover:shadow-xl hover:bg-gray-200 transition-all duration-300">
        <h3 class="text-xl font-orbitron text-gray-900 mb-2">{{ translations.step2_title | default('Planning') }}</h3>
        <p class="text-gray-700 font-poppins">{{ translations.step2_description | default('Create a tailored project plan.') }}</p>
      </div>
      <div class="bg-white rounded-2xl p-6 text-center shadow-lg hover:shadow-xl hover:bg-gray-200 transition-all duration-300">
        <h3 class="text-xl font-orbitron text-gray-900 mb-2">{{ translations.step3_title | default('Design') }}</h3>
        <p class="text-gray-700 font-poppins">{{ translations.step3_description | default('Craft intuitive and attractive designs.') }}</p>
      </div>
      <div class="bg-white rounded-2xl p-6 text-center shadow-lg hover:shadow-xl hover:bg-gray-200 transition-all duration-300">
        <h3 class="text-xl font-orbitron text-gray-900 mb-2">{{ translations.step4_title | default('Development') }}</h3>
        <p class="text-gray-700 font-poppins">{{ translations.step4_description | default('Build robust and scalable solutions.') }}</p>
      </div>
      <div class="bg-white rounded-2xl p-6 text-center shadow-lg hover:shadow-xl hover:bg-gray-200 transition-all duration-300">
        <h3 class="text-xl font-orbitron text-gray-900 mb-2">{{ translations.step5_title | default('Testing') }}</h3>
        <p class="text-gray-700 font-poppins">{{ translations.step5_description | default('Ensure quality and performance.') }}</p>
      </div>
      <div class="bg-white rounded-2xl p-6 text-center shadow-lg hover:shadow-xl hover:bg-gray-200 transition-all duration-300">
        <h3 class="text-xl font-orbitron text-gray-900 mb-2">{{ translations.step6_title | default('Deployment') }}</h3>
        <p class="text-gray-700 font-poppins">{{ translations.step6_description | default('Launch your solution seamlessly.') }}</p>
      </div>
    </div>
  </div>
</section>

<section id="choose-us" class="py-16 bg-white animate-slide-in">
  <div class="container mx-auto px-4">
    <h2 class="text-4xl font-orbitron font-bold text-teal-600 text-center mb-12 animate-slide-in">{{ translations.choose_us_title | default('Why Choose Us') }}</h2>
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
      <div class="bg-gray-100 p-6 rounded-2xl shadow-lg hover:bg-gray-200 transition-all duration-300 text-center">
        <div class="text-4xl mb-2 text-teal-600">✓</div>
        <h3 class="text-xl font-orbitron text-gray-900 mb-2">{{ translations.expertise_title | default('Expertise') }}</h3>
        <p class="text-gray-700 font-poppins">{{ translations.expertise_description | default('Industry-leading technical expertise.') }}</p>
      </div>
      <div class="bg-gray-100 p-6 rounded-2xl shadow-lg hover:bg-gray-200 transition-all duration-300 text-center">
        <div class="text-4xl mb-2 text-teal-600">⭐</div>
        <h3 class="text-xl font-orbitron text-gray-900 mb-2">{{ translations.customization_title | default('Customization') }}</h3>
        <p class="text-gray-700 font-poppins">{{ translations.customization_description | default('Tailored solutions for your needs.') }}</p>
      </div>
      <div class="bg-gray-100 p-6 rounded-2xl shadow-lg hover:bg-gray-200 transition-all duration-300 text-center">
        <div class="text-4xl mb-2 text-teal-600">⏰</div>
        <h3 class="text-xl font-orbitron text-gray-900 mb-2">{{ translations.support_title | default('Support') }}</h3>
        <p class="text-gray-700 font-poppins">{{ translations.support_description | default('Dedicated support at every step.') }}</p>
      </div>
      <div class="bg-gray-100 p-6 rounded-2xl shadow-lg hover:shadow-xl hover:bg-gray-200 transition-all duration-300 text-center">
        <div class="text-4xl mb-2 text-teal-600">🏆</div>
        <h3 class="text-xl font-orbitron text-gray-900 mb-2">{{ translations.success_title | default('Proven Success') }}</h3>
        <p class="text-gray-700 font-poppins">{{ translations.success_description | default('Track record of successful projects.') }}</p>
      </div>
      <div class="bg-gray-100 p-6 rounded-2xl shadow-lg hover:shadow-xl hover:bg-gray-200 transition-all duration-300 text-center">
        <div class="text-4xl mb-2 text-teal-600">💰</div>
        <h3 class="text-xl font-orbitron text-gray-900 mb-2">{{ translations.affordability_title | default('Affordability') }}</h3>
        <p class="text-gray-700 font-poppins">{{ translations.affordability_description | default('Cost-effective solutions.') }}</p>
      </div>
      <div class="bg-gray-100 p-6 rounded-2xl shadow-lg hover:shadow-xl hover:bg-gray-200 transition-all duration-300 text-center">
        <div class="text-4xl mb-2 text-teal-600">🤝</div>
        <h3 class="text-xl font-orbitron text-gray-900 mb-2">{{ translations.client_focus_title | default('Client Focus') }}</h3>
        <p class="text-gray-700 font-poppins">{{ translations.client_focus_description | default('Your success is our priority.') }}</p>
      </div>
    </div>
  </div>
</section>

<section id="pricing" class="py-16 bg-gray-100 animate-slide-in">
  <div class="container mx-auto px-4">
    <h2 class="text-4xl font-orbitron font-bold text-teal-600 text-center mb-12 animate-slide-in">{{ translations.pricing_title | default('Pricing') }}</h2>
    <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
      <div class="bg-white p-6 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 text-center">
        <h3 class="text-2xl font-orbitron text-gray-900 mb-4">{{ translations.fixed_value_plan_title | default('Fixed Value Plan') }}</h3>
        <p class="text-gray-700 font-poppins">{{ translations.fixed_value_plan_description | default('One-time payment for specific projects.') }}</p>
      </div>
      <div class="bg-white p-6 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 text-center">
        <h3 class="text-2xl font-orbitron text-gray-900 mb-4">{{ translations.subscription_plans_title | default('Subscription Plans') }}</h3>
        <p class="text-gray-700 font-poppins">{{ translations.subscription_plans_description | default('Ongoing support with monthly subscriptions.') }}</p>
      </div>
      <div class="bg-white p-6 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 text-center">
        <h3 class="text-2xl font-orbitron text-gray-900 mb-4">{{ translations.hybrid_model_title | default('Hybrid Model') }}</h3>
        <p class="text-gray-700 font-poppins">{{ translations.hybrid_model_description | default('Flexible pricing combining fixed and subscription models.') }}</p>
      </div>
    </div>
    <div class="text-center mt-8">
      <a href="{{ url_for('main.prices') }}" class="bg-teal-600 hover:bg-teal-700 text-white px-8 py-3 rounded-2xl font-orbitron">
        {{ translations.explore_pricing_plans | default('Explore Pricing Plans') }}
      </a>
    </div>
  </div>
</section>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    // --- Dynamic word changing ---
    // Fetch the translated, comma-separated string from the translations dictionary.
    // Use the default if the key is missing.
    const wordsString = "{{ translations.hero_changing_words | default('software,logos,AI features,sites') }}";
    
    // Split the string into an array, and trim any whitespace from each word.
    const words = wordsString.split(',').map(word => word.trim());
    
    const changingWordElement = document.getElementById('changing-word');
    let wordIndex = 0;

    function changeWord() {
      // Check if words array is not empty to prevent errors
      if (words.length === 0) return;
      
      changingWordElement.textContent = words[wordIndex];
      wordIndex = (wordIndex + 1) % words.length;
    }
    
    // Start the word changing
    changeWord();
    setInterval(changeWord, 2000);

    // --- Hexagon image cycling (Keep this section the same) ---
    const imageSources = [
      "{{ images.vision[0].image_url if images.vision and images.vision|length > 0 else 'https://via.placeholder.com/400' }}",
      "{{ images.vision[1].image_url if images.vision and images.vision|length > 1 else 'https://via.placeholder.com/400' }}",
      "{{ images.vision[2].image_url if images.vision and images.vision|length > 2 else 'https://via.placeholder.com/400' }}",
      "{{ images.vision[3].image_url if images.vision and images.vision|length > 3 else 'https://via.placeholder.com/400' }}"
    ];

    function setupImageCycler(imageClass, imageSources) {
      const images = document.querySelectorAll(`.${imageClass}`);
      let currentIndex = 0;

      function updateImages() {
        images.forEach(img => img.classList.remove('active'));
        setTimeout(() => {
          images.forEach((img, index) => {
            img.src = imageSources[(currentIndex + index) % imageSources.length];
            img.classList.add('active');
          });
          currentIndex = (currentIndex + images.length) % imageSources.length;
        }, 1000);
      }

      images.forEach((img, index) => {
        img.src = imageSources[index % imageSources.length];
        img.classList.add('active');
      });

      setInterval(updateImages, 4000);
    }

    setupImageCycler('hero-img', imageSources);
  });
</script>
{% endblock %}